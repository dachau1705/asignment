<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh sách bài viết</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <%- include('../partials/header') %>

        <div class="container mt-5">
            <h2 class="text-center">Tìm kiếm bài viết</h2>
            <div class="row">
                <div class="col-md-12 mb-4">
                    <form class="form-inline" method="GET" action="/articles/user/articles">
                        <input class="form-control mr-2" type="text" name="searchTitle"
                            placeholder="Tìm kiếm theo tiêu đề" aria-label="Tìm kiếm" value="<%= searchTitle %>">
                        <input class="form-control mr-2" type="text" name="searchAuthor"
                            placeholder="Tìm kiếm theo tác giả" aria-label="Tìm kiếm" value="<%= searchAuthor %>">
                        <input class="form-control mr-2" type="date" name="searchDate"
                            placeholder="Tìm kiếm theo ngày đăng" aria-label="Tìm kiếm" value="<%= searchDate %>">
                        <button class="btn btn-primary" type="submit">Tìm kiếm</button>
                    </form>
                </div>
            </div>

            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Tiêu đề</th>
                        <th scope="col">Tác giả</th>
                        <th scope="col">Ngày đăng</th>
                        <th scope="col">Xem chi tiết</th>
                    </tr>
                </thead>
                <tbody>
                    <% if(articles.length> 0) { %>
                        <% articles.forEach(function(article, index) { %>
                            <tr>
                                <th scope="row">
                                    <%= index + 1 %>
                                </th>
                                <td>
                                    <%= article.title %>
                                </td>
                                <td>
                                    <%= article.author %>
                                </td>
                                <td>
                                    <%= article.createdAt.toDateString() %>
                                </td>
                                <td>
                                    <a href="/articles/user/articles/<%= article._id %>" class="btn btn-sm btn-info">Xem
                                        chi
                                        tiết</a>
                                </td>
                            </tr>
                            <% }) %>
                                <% } else { %>
                                    <tr>
                                        <td colspan="5" class="text-center">Không tìm thấy bài viết nào</td>
                                    </tr>
                                    <% } %>
                </tbody>
            </table>
        </div>

        <%- include('../partials/footer') %>
</body>

</html>